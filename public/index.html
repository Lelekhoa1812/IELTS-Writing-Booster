<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IELTS Enhancer</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="img/icon.png">
</head>
<body>
  <div class="container">
    <header>
      <h1>IELTS Enhancer</h1>
      <p>Boost your IELTS Writing with AI-powered feedback and guidance</p>
    </header>
    <form id="ielts-form">
      <div class="selectors">
        <label>
          Desired Band:
          <select id="band-select" required>
            <option value="">Select Band</option>
            <option value="4.5">4.5</option>
            <option value="5.0">5.0</option>
            <option value="5.5">5.5</option>
            <option value="6.0">6.0</option>
            <option value="6.5">6.5</option>
            <option value="7.0">7.0</option>
            <option value="7.5">7.5</option>
            <option value="8.0">8.0</option>
            <option value="8.5">8.5</option>
            <option value="9.0">9.0</option>
          </select>
        </label>
        <label>
          Writing Part:
          <select id="part-select" required>
            <option value="">Select Part</option>
            <option value="1">Part 1</option>
            <option value="2">Part 2</option>
          </select>
        </label>
      </div>
      <div class="input-group">
        <label for="question-input">Question (text and image if available):</label>
        <textarea id="question-input" placeholder="Paste or type your IELTS question here..." rows="2"></textarea>
        <input type="file" id="image-input" accept="image/*">
        <div id="image-preview"></div>
      </div>
      <div id="note-card-container">
        <button type="button" id="show-note-btn" class="note-btn">Create Note Card</button>
        <div id="note-card" class="note-card hidden">
          <textarea id="note-input" placeholder="Write your notes here..." rows="3"></textarea>
          <button type="button" id="hide-note-btn" class="note-btn">Hide Note Card</button>
        </div>
      </div>
      <div class="input-group">
        <label for="answer-input">Your Answer:</label>
        <textarea id="answer-input" placeholder="Paste or type your answer here..." rows="6" required></textarea>
        <div id="word-count" style="margin-top:0.3em;font-weight:600;font-size:1.02em;"></div>
      </div>
      <button type="submit" id="submit-btn">Evaluate</button>
    </form>
    <section id="result-section" class="hidden">
      <div class="gauge-container">
        <svg id="gauge" width="220" height="120"></svg>
        <div id="score-label"></div>
      </div>
      <div id="submeter-container"></div>
      <div id="criteria-reason-container"></div>
      <div id="correction-output"></div>
      <div id="model-answer-output"></div>
    </section>
  </div>
  <!-- Draggable Chatbot Button -->
  <div id="draggable-chatbot" class="draggable-chatbot" title="AI Assistant: Instantly ready to help you brainstorm, clarify, or answer any IELTS writing question. Just drag me or click to chat!">
    <img src="img/chatbot.gif" alt="AI Chatbot" class="chatbot-icon" />
  </div>
  <!-- Chatbox -->
  <div id="chatbox" class="chatbox hidden">
    <div class="chatbox-header">
      <span>AI Writing Assistant</span>
      <button id="close-chatbox" class="close-chatbox">&times;</button>
    </div>
    <div id="chatbox-messages" class="chatbox-messages"></div>
    <form id="chatbox-form" class="chatbox-form">
      <div class="chatbox-input-wrapper">
        <textarea id="chatbox-input" placeholder="Ask me anything about IELTS writing..." autocomplete="off" required rows="2" maxlength="1000"></textarea>
      </div>
      <button type="submit">Send</button>
    </form>
  </div>
  <script src="draggable.js"></script>
  <script src="chatbox.js"></script>
  <script src="app.js"></script>
</body>
</html>
